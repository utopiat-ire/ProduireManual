<!doctype html>
<html lang="ja"><!-- InstanceBegin template="/Templates/reference2020.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>メロディの書き方 - プロデルマニュアル</title><!-- InstanceEndEditable -->
	<link href="../../css/bootstrap.min.css" rel="stylesheet">
	<link href="../../css/style.css" rel="stylesheet">
	<link href="../../css/ie10-viewport-bug-workaround.css" rel="stylesheet">
	<script src="../../js/html5shiv-3.7.3.min.js"></script>
	<script src="../../js/respond-1.4.2.min.js"></script>
<!-- InstanceBeginEditable name="head" -->
<meta name="keywords" content="メロディ,演奏,MIDI"><!-- InstanceEndEditable -->
</head>

<body>
	<nav class="navbar navbar-fixed-top navbar-inverse">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">メニュー開閉</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a href="../../index.htm"><img src="../../img/rdr2018-32.png" class="rdricon" alt="プロデル"></a>
				<a class="navbar-brand" href="#">
					<!-- InstanceBeginEditable name="HeaderTitle" -->メロディの書き方<!-- InstanceEndEditable -->
				</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav navbar-right">
					<li id="cat_top"><a href="../../index.htm">目次</a></li>
					<li id="cat_syntax"><a href="../../syntax/index.htm">言語仕様</a></li>
					<li id="cat_lookup"><a href="../../lookup/index.htm">逆引き辞典</a></li>
					<li id="cat_datatype"><a href="../../primitive/index.htm">データ型</a></li>
					<li id="cat_gui" class="hidden-sm"><a href="../../wincontrol/index.htm">GUI部品</a></li>
					<li id="cat_verbs" class="hidden-sm"><a href="../../verbs/index.html">手順一覧</a></li>
					<li id="cat_devenv" class="hidden-sm"><a href="../../devenv/index.html">開発環境</a></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">機能別 <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li id="cat_core"><a href="../../core/index.htm">基本機能</a></li>
							<li id="cat_file"><a href="../../file/index.htm">ファイル操作</a></li>
							<li id="cat_graphics"><a href="../../pgraphics/index.htm">画像描画</a></li>
							<li id="cat_office"><a href="../../office/index.htm">Microsoft Office操作</a></li>
							<li id="cat_data"><a href="../../data/index.htm">データ形式/データベース</a></li>
							<li id="cat_net"><a href="../../network/index.htm">ネットワーク</a></li>
							<li id="cat_mail"><a href="../../network/mail/index.htm">メール</a></li>
							<li class="divider"></li>
							<li id="cat_system"><a href="../systeminfo/index.htm">システム情報取得</a></li>
							<li id="cat_media"><a href="index.htm">メディア再生制御</a></li>
							<li id="cat_crypto"><a href="../crypto/index.htm">暗号化/ハッシュ計算</a></li>
							<li id="cat_speech"><a href="../speech/index.htm">音声処理</a></li>
							<li id="cat_reflection"><a href="../../core/reflection/index.htm">リフレクション</a></li>
							<li id="cat_msil"><a href="../msil/index.htm">MSIL生成</a></li>
							<li><a href="../../tools/web/index.htm">Webアプリ</a></li>
							<li class="divider"></li>
							<li><a href="../../wincontrol/index.htm">GUI部品</a></li>
							<li><a href="../../verbs/index.html">手順一覧</a></li>
							<li><a href="../../devenv/index.html">開発環境</a></li>
						</ul>
					</li>
				</ul>
			</div><!-- /.nav-collapse -->
		</div><!-- /.container -->
	</nav><!-- /.navbar -->

	<div id="main" class="container-fluid">
<!-- InstanceBeginEditable name="Content" -->
	<ul class="breadcrumb" data-category="media">
		<li><a href="../../index.htm">プロデル</a></li>
		<li><a href="index.htm">マルチメディア機能</a></li>
		<li><a href="melody.htm">メロディ</a></li>
		<li>メロディの表現 </li>
	</ul>
<h1>メロディの書き方</h1>
<p>「演奏する」手順で演奏するメロディは、音符を順番に書きます。プロデルのメロディ表記は、MMLの標準的な表記を日本語化した文法です。</p>
<h3>音符の書き方</h3>
	<p>音符は、次のように書式で表現します。連続して記述できます。</p>
    <pre class="format"><strong>《音名》</strong><strong>《長さ》</strong></pre>
    <p>例えば、4分音符のドを鳴らすには「ド４」と書きます。</p>
	<pre class="code">「ド４」を演奏する</pre>
	<p>メロディは、全角と半角を区別しません。(ただしカタカナのみは全角で書く必要があります)</p>
	<p>また、スペースや改行記号、タブ文字、コメント(//, /* */)は、演奏では無視されます。</p>
	<h3>複数のパートを演奏する</h3>
  <p>複数のパートに分けて、複数の音を同時に演奏する場合には「演奏する」手順に配列を指定して、複数のパートのメロディをそれぞれ指定してください。最高16パートを同期して演奏できます。</p>
    <pre class="code">｛「ド4ドソソララソン」,「ド8ソミソ ドソミソ ドラファラ ドソミソ」｝を演奏する</pre>
    <h3>音名</h3>
	<p>【音名】には、<b>ドレミファソラシ</b>のいずれかを書きます。ひらがなやMML表記でも書けます。<br>
		音名には、臨時記号（<b>＃</b>(シャープ)、<b>♭</b>・<b>ｂ</b>(フラット)、<b>Ｎ</b>(ナチュラル)）を付けられます。</p>
	<table style="width: 100%" class="table table-bordered">
        <tbody>
		<tr>
			<th>&nbsp;</th>
			<th>ド</th>
			<th>ド＃</th>
			<th>レ</th>
			<th>レ＃</th>
			<th>ミ</th>
			<th>ファ</th>
			<th>ファ＃</th>
			<th>ソ</th>
			<th>ソ＃</th>
			<th>ラ</th>
			<th>ラ＃</th>
			<th>シ</th>
		</tr>
		<tr>
			<th>カタカナ</th>
			<td>ド</td>
			<td>ド＃/レ♭</td>
			<td>レ</td>
			<td>レ＃/ミ♭</td>
			<td>ミ</td>
			<td>ファ</td>
			<td>ファ＃/ソ♭</td>
			<td>ソ</td>
			<td>ソ＃/ラ♭</td>
			<td>ラ</td>
			<td>ラ＃/シ♭</td>
			<td>シ</td>
		</tr>
		<tr>
			<th>ひらがな</th>
			<td>ど</td>
			<td>ど＃/れ♭</td>
			<td>れ</td>
			<td>れ＃/み♭</td>
			<td>み</td>
			<td>ふぁ</td>
			<td>ふぁ＃/そ♭</td>
			<td>そ</td>
			<td>そ＃/ら♭</td>
			<td>ら</td>
			<td>ら＃/し♭</td>
			<td>し</td>
		</tr>
		<tr>
			<th>MML表記</th>
			<td>C</td>
			<td>C#/Db</td>
			<td>D</td>
			<td>D#/Eb</td>
			<td>E</td>
			<td>F</td>
			<td>F#/Gb</td>
			<td>G</td>
			<td>G#/Ab</td>
			<td>A</td>
			<td>A#/Bb</td>
			<td>B</td>
		</tr>
        </tbody>
	</table>
	<pre class="code">「ド４ド＃４レ４ミ♭４ミ４」を演奏する
「ど４ど＃４れ４み♭４み４」を演奏する
「C4C#４D４Eb4E4」を演奏する</pre>
	<h3>音の長さ</h3>
	<p>【長さ】には、音符の長さを書きます。例えば4なら、4分音符。8なら、8分音符となります。音符の長さは、<b>1</b>,<b>2</b>,<b>4</b>,<b>8</b>,<b>16</b>,<b>32</b>のいずれかを書けます。</p>
	<p> 数字の後に「<b>．</b>」を付けると付点となります。例えば、付点4分音符は「４．」と書きます。</p>
	<table class="table table-bordered">
        <thead>
		<tr>
			<th>&nbsp;</th>
			<th>長さ</th>
			<th>&nbsp;</th>
			<th>長さ</th>
		</tr>
        </thead>
        <tbody>
		<tr>
			<th>全音(休)符</th>
			<td>1</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<th>2分音(休)符</th>
			<td>2</td>
			<th>付点2分音(休)符</th>
			<td>２．</td>
		</tr>
		<tr>
			<th>4分音(休)符</th>
			<td>4</td>
			<th>付点4分音(休)符</th>
			<td>４．</td>
		</tr>
		<tr>
			<th>8分音(休)符</th>
			<td>8</td>
			<th>付点8分音(休)符</th>
			<td>８．</td>
		</tr>
		<tr>
			<th>16分音(休)符</th>
			<td>16</td>
			<th>付点16分音(休)符</th>
			<td>１６．</td>
		</tr>
		<tr>
			<th>32分音(休)符</th>
			<td>32</td>
			<th>付点32分音(休)符</th>
			<td>３２．</td>
		</tr>
		<tr>
			<th>64分音(休)符</th>
			<td>64</td>
			<th>付点64分音(休)符</th>
			<td>６４．</td>
		</tr>
        </tbody>
	</table>
	<p>※プロデルのメロディには、小節という概念がありません。そのため全音符は、4分音符×4個分と同じ長さです。</p>
	<pre class="code">「ド4ミ8ソ8」を演奏する</pre>
	<h3>長さの省略</h3>
	<p>長さを省略すると、直前に指定した長さと同じになります。一度も長さが指定されていない場合は、４と同じになります。</p>
	<pre class="code"><span class="rem">ーー「ド4ミ4ソ4　ド8ミ8ソ8　ド8ミ8ソ8」と書いたことと同じになります</span>
「ド4ミソ　ド8ミソ　ドミソ」を演奏する</pre>
	<p>長さの代わりに「ー」を書くと、直前に指定した長さに、さらに同じ長さを足した長さになります。「ー」で直前の長さの2倍。「ーー」で直前の長さの3倍になります。</p>
	<pre class="code">「ド8ミソ　ドミソ　ドーミーソー」を演奏する</pre>
	<p>省略したときの長さを指定する場合は次のように指定します。</p>
    <pre class="format">L<strong>《値》</strong>
長<strong>《値》</strong>
長さ<strong>《値》</strong></pre>
    <p>《値》は、0～127の範囲で指定します。初期値は、4です。</p>
    <pre class="code">「L8　ドミソド」を演奏する</pre>
    <h3>音の高さ(オクターブ)</h3>
	<p>音の高さを、１オクターブ上げる時は「<b>＞</b>」または「上」と書きます。１オクターブ下げる時は「<b>＜</b>」または「下」と書きます。</p>
	<p>※音の高さは、同一のパート・連符・和音内で有効です</p>
	<pre class="code">「ド&gt;ド&gt;ド」を演奏する</pre>
	<p>オクターブを絶対値で指定する場合は次のように指定します。</p>
	<pre class="format">O<strong>《値》</strong>
オ<strong>《値》</strong>
オクターブ<strong>《値》</strong></pre>
	<p>《値》は、0～10の範囲で指定します。中央は5です。</p>
	<p>例</p>
	<pre class="code">「O3 ドミソド」を演奏する</pre>
	<h3>休符</h3>
	<p>休符は「休み」「休」「ン」のあとに、休符の長さを書きます。</p>
	<pre class="code">「ソ４休み２ド４」を演奏する</pre>
	<p>&nbsp;</p>
	<h2>その他のメロディ表現</h2>
	<h3>タイ</h3>
	<p>タイを表現するには、音符の長さを「＾」で繋ぎます。タイを続けて、複数書くこともできます。</p>
	<pre class="format"><strong>《音名》《長さ》</strong>＾<strong>《長さ》</strong></pre>
	<p><b>例文</b>　四分音符のラに、八分音符を付けて、伸ばします</p>
	<pre class="code">「　ラ４＾８　」を演奏する</pre>
	<p>　</p>
	<h3>連符</h3>
	<p>連音符を表現するには、音符を｛　｝で囲みます。<br>
		【長さ】は、省略できます。</p>
	<pre class="format">｛<strong>《音名》</strong>｝<strong>《長さ》</strong></pre>
	<p><b>例文</b>　3連符を表現します</p>
	<pre class="code">「　｛ソファミ｝４　」を演奏する</pre>
	<p>&nbsp;</p>
	<h3>和音</h3>
	<p>一つのパートで和音を表現したい場合は、音符を（　）で囲みます。<br>
		《長さ》は、省略できます。</p>
	<pre class="format">（<strong>《音名》</strong>）<strong>《長さ》</strong></pre>
	<p><b>例文</b>　Ｃの和音(ドミソ)を表現します</p>
	<pre class="code">「　（ドミソ）２　」を演奏する</pre>
	<p>　</p>
	<h3>調を指定する</h3>
	<p>調は「メロディ」の<a href="melody.htm#調">「調」設定項目</a>で変更できます。</p>
	<p><b>例文</b>　調を「嬰ヘ長調」に設定します</p>
	<pre class="code">メロディの調は「嬰ヘ長調」
「レ16ド16&lt;ファ8&gt;(ファ&lt;ラ)8　(ファ&lt;ラ)8 ン4」を演奏する</pre>
	<p>　</p>
	<h2>音色やMIDIチャンネルの設定</h2>
	<h3>音色</h3>
	<p>音色を変えるには「＃」を使います。音色は、MIDIの音色番号と同じです。音色番号に対応する音色は、<a href="melodycolor.htm#通常パート">通常パートの音色表</a>をご覧ください。</p>
	<pre class="format">＃<strong>《音色番号》</strong></pre>
	<p>　</p>
	<h3>MIDIチャンネル</h3>
	<p>特定のパートの演奏に使用するMIDIチャンネルを変えるには「＠」を使います。MIDIチャンネルは、1～16まで指定できます。</p>
	<p>なお、MIDIチャンネルの10は、ドラムパートに固定されています。</p>
	<pre class="format">＠<strong>《チャンネル番号》</strong></pre>
	<h3>MIDIチャンネルメッセージの送信</h3>
  <p>チャンネルに対してメッセージを送信するには「!」を使います。</p>
  <p>メッセージ番号は、16進数(8～E)で指定します。<br></p>
    <pre class="format">!<strong>《メッセージ番号》</strong>,<strong>《1データ目》</strong>,<strong>《2データ目》</strong></pre>
    <p><b>例文</b>　チャンネルのパンを変更します。</p>
    <pre class="code">{「!B,10,0」,「!B,10,127」}を演奏する
{「&lt;&lt;ド1」,「&gt;&gt;ド1」}を演奏する<br></pre>
    <h3>音量を変える</h3>
    <p>音色や音量を変えるには、次のように書きます。</p>
    <pre class="format">メロディの音量は、<strong>《音量0～127》</strong></pre>
	<p>パート別に音量を指定する場合は次のように指定します。</p>
    <pre class="format">V<strong>《値》</strong>
音量<strong>《値》</strong>
量<strong>《値》</strong></pre>
    <p>《値》は、0～127の範囲で指定します。初期値は「音量」設定項目の指定した値です。</p>
    <pre class="code">{「V127　ド1」,「V40 &lt;ド8ミソド」}を演奏する</pre>
    <h3>テンポを変えたい</h3>
	<p>テンポは「メロディ」の<a href="melody.htm#設定項目">「テンポ」設定項目</a>で変更できます。</p>
	<p><b>例文</b>　メロディのテンポを「四分音符＝60」(一分間に四分音符60個分)くらい演奏するテンポにします</p>
	<pre class="code">メロディのテンポは60
「ドレミ」を演奏する</pre>
	<p>&nbsp;</p>
	<h2>ドラム(パーカッション)パートを演奏する</h2>
	<p>ドラムパートとして演奏したい場合は「＠」でMIDIチャンネルを10に設定してください。各楽器には、ドレミの音名が割り当てられています。楽器と音名の割り当ては、<a href="melodycolor.htm#ドラム(パーカッション)パート">ドラムパートの音色表</a>をご覧ください。</p>
	<p><a href="https://upload.wikimedia.org/wikipedia/commons/8/85/GMStandardDrumMap.gif">ドラムパートマップ(wikipadiaより)</a>も参考になりますので、ご覧ください。なお、ドラムパートに変更すると、音の高さが一番低いドに設定されます。</p>
	<pre class="code">「@10&gt;&gt;(みら＃れ＃)4ん8(みら＃れ＃)4(みら＃れ＃)8ん4&lt;&lt;」を演奏する
「@10&gt;&gt;し8し&gt;みー&lt;しし&gt;みー&lt;しし&gt;みー&lt;しし&gt;みー&lt;&lt;」を演奏する</pre>
	<p>&nbsp;</p>
	<h2>非同期で演奏する</h2>
	<p>メロディをプログラムのBGMとして使いたい場合など「演奏する」手順の終了を待たずに次のプログラムを実行させるには、
		「非同期で演奏する」手順を使います。</p>
	<p><b>例文<br>
		</b>メロディを演奏します。この例では、２つのパートに分けて演奏しています。</p>
	<pre id="prg" class="code">「(ドミ)４　(ミソ)４　(ソシ)４　(ミソ)８」を非同期で演奏する
「演奏中です」を表示する</pre>
	<h2>注意</h2>
    <p>「演奏する」手順は、俗に言われるストトン表記との互換性はありません。</p>
  <div class="footer text-right"><!-- #BeginDate format:Ja2 -->2024年7月23日 <!-- #EndDate -->更新</div><!-- InstanceEndEditable -->
		<p id="page-top"><a href="#">ページ先頭へ</a></p>
		<footer>
    		<hr>
			<p class="text-muted text-right"><a href="https://produ.irelang.jp/">日本語プログラミング言語 プロデル</a> Ver.2.0 &copy; 2007-2024 utopiat.net.</p>
		</footer>
	</div><!--/.container-->
	<script src="../../js/jquery-1.12.4.min.js"></script>
	<script src="../../js/bootstrap.min.js"></script>
	<script src="../../js/ie10-viewport-bug-workaround.js"></script>
	<script src="../../js/script.js"></script>
    <script src="../../js/syntax-highlight.js"></script>
<!-- InstanceBeginEditable name="Script" -->

<!-- InstanceEndEditable -->
</body>
<!-- InstanceEnd --></html>
